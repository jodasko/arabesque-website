// @import "src/variables.scss";
@use "styles/variables" as v;
@use "styles/mixins" as mx;
@use "styles/breakpoints" as bp;

.about {
  height: 450px;
  position: relative;
  display: grid;
  min-height: clamp(
    420px,
    60vh,
    680px
  ); // responsive height without hard-coding
  overflow: hidden;
  color: #fff;
  font-family: v.$mainFont;

  /* Background image */
  &__media {
    position: absolute;
    inset: 0;
    background-position: center;
    background-size: cover;
    background-repeat: no-repeat;
    z-index: 0;
  }

  /* Darken image for readability (independent from text) */
  &__overlay {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.45);
    z-index: 1;
  }

  /* The “rectangle” behind the text.
     IMPORTANT: use an alpha background, NOT opacity. */
  &__panel {
    position: relative;
    z-index: 2; // above overlay
    width: min(85%, 780px); // match your 44% rectangle at large screens
    margin-left: clamp(16px, 7vw, 110px);
    padding: clamp(16px, 2.5vw, 28px);
    background: rgb(235 239 245 / 60%); // light grey @ 60% alpha
    backdrop-filter: saturate(120%) blur(0.5px); // optional subtle polish
    display: grid;
    row-gap: clamp(8px, 1.8vw, 22px);
    align-content: center;
    height: 350px;
  }

  &__eyebrow {
    font-size: v.$eyebrow;
    letter-spacing: 0.2em;
    color: v.$black;
  }

  &__arrow {
    font-size: 1rem;
    color: v.$secondColor;
  }

  &__title {
    line-height: 1.05;
    // font-size: clamp(1.6rem, 3.8vw, 3rem);
    color: #0b0f1a; // dark ink over the light rectangle
  }

  &__quote {
    // margin: 0;
    // padding-left: 0.5rem;
    border-left: 3px solid rgba(11, 15, 26, 0.6);
    color: rgba(11, 15, 26, 0.8);
    // font-size: clamp(0.9rem, 1.6vw, 1.125rem);
    // font-weight: 600;
    letter-spacing: 0.2em;
  }

  /* Larger screens: widen the panel a bit */
  // @media (min-width: 1024px) {
  //   &__panel {
  //     width: 35%;
  //     row-gap: 24px;
  //     max-height: 360px;
  //   }
  // }

  @include bp.up(sm) {
    &__panel {
      width: min(60%, 780px); // match your 44% rectangle at large screens
    }
  }
  @include bp.up(md) {
    &__panel {
      width: min(68%, 780px); // match your 44% rectangle at large screens
    }
  }
  @include bp.up(lg) {
    &__panel {
      width: min(35%, 780px); // match your 44% rectangle at large screens
    }
  }
}

// ─────────────────────────────  ABOUT US CARD  ─────────────────────────────────────────────── */

.section-aboutus {
  &__card {
    background-color: v.$secondColor;

    .card {
      width: 100%;
      &-title {
        font-size: v.$titleSizeH2;
      }

      &-text {
        small {
          bottom: 20px;
          font-size: v.$ctaSizeText;
          letter-spacing: 0.255rem;
          visibility: hidden;
        }

        p {
          font-size: v.$contentSizeText;
        }
      }
    }
  }

  &__card-image {
    width: 100%;
  }

  &__card-bar {
    display: none;
    width: 6%;
    height: 100%;
    top: 0;
    left: 0;
    object-fit: cover;
    object-position: center;
    background-color: #090b19;
    opacity: 0.6;
    position: absolute;
  }

  @include bp.up(sm) {
    &__card-bar {
      display: block;
    }

    &__card {
      .card {
        width: 100%;
      }
    }

    &__card-image {
      width: 300px;
    }
  }

  @include bp.up(md) {
  }

  @include bp.up(lg) {
    &__card {
      .card {
        width: 85%;
        margin: 0 auto;

        &-text {
          small {
            visibility: visible;
          }
        }
      }
    }

    &__card-image {
      width: 95%;
    }
  }

  @include bp.up(xl) {
    &__card-image {
      width: 80%;
    }
  }
}
